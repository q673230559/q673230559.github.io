<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="零落成泥碾作尘，只有香如故！">
    <meta name="author" content="形而上">
    
    <title>
        
            Java泛型梳理 |
        
        Hanxd&#39;s Notes
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/pic/head.png">
    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"yoursite.com","root":"/","language":"zh-CN","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":false,"init_open":true},"style":{"primary_color":"#FF7F00","avatar":"/pic/head.png","favicon":"/pic/head.png","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"Still waters run deep."},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":true}}},"local_search":{"enable":true,"preload":true},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":false},"lazyload":{"enable":false},"version":"3.4.3"};
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 月前","year":"%s 年前"};
  </script>
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Hanxd&#39;s Notes
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                首页
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/books"
                            >
                                书单
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                分类
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                归档
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                标签
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/books">书单</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">分类</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">归档</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">标签</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">Java泛型梳理</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/pic/head.png">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">形而上</span>
                        
                            <span class="author-label">Lv4</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2022-02-13
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E6%80%BB%E7%BB%93%E7%AC%94%E8%AE%B0/">总结笔记</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Java/">Java</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/%E6%B3%9B%E5%9E%8B/">泛型</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>5.8k 字</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>25 分钟</span>
        </span>
    
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <p>在java中，泛型算是必须要掌握的一块硬核知识，在很多地方都会用到，这块如果理解了，在阅读其他框架源码的时候会让你更容易一些。</p>
<p>关于泛型的解析上面，我们需要先了解一些类和接口，这些比较关键，这些都位于java.lang.reflect包中，类图如下：<br><img src="/2022_02_13_java_wild_type/1.jpg" alt="1"></p>
<h1 id="reflect包中的一些类"><a href="#reflect包中的一些类" class="headerlink" title="reflect包中的一些类"></a>reflect包中的一些类</h1><h2 id="Type接口"><a href="#Type接口" class="headerlink" title="Type接口"></a>Type接口</h2><p>这是一个顶层接口，java中的任何类型都可以用这个来表示，这个接口是Java编程语言中所有类型的公共超接口。这些类型包括原始类型、泛型类型、泛型变量类型、通配符类型、泛型数组类型、数组类型等各种类型。</p>
<p>这个接口代码比较简单，源码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.lang.reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Type is the common superinterface for all types in the Java</span></span><br><span class="line"><span class="comment"> * programming language. These include raw types, parameterized types,</span></span><br><span class="line"><span class="comment"> * array types, type variables and primitive types.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 1.5</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Type</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns a string describing this type, including information</span></span><br><span class="line"><span class="comment">     * about any type parameters.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@implSpec</span> The default implementation calls &#123;<span class="doctag">@code</span> toString&#125;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> a string describing this type</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.8</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">default</span> String <span class="title function_">getTypeName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>getTypeName()，用于返回具体类型的名称，是一个默认方法，默认会调用当前类的toString方法，实现类也可以对这个方法重写。</li>
</ul>
<h2 id="GenericDeclaration接口"><a href="#GenericDeclaration接口" class="headerlink" title="GenericDeclaration接口"></a>GenericDeclaration接口</h2><p>所有声明泛型变量的公共接口，这个接口中定义了一个方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.lang.reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * A common interface for all entities that declare type variables.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 1.5</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">GenericDeclaration</span> <span class="keyword">extends</span> <span class="title class_">AnnotatedElement</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns an array of &#123;<span class="doctag">@code</span> TypeVariable&#125; objects that</span></span><br><span class="line"><span class="comment">     * represent the type variables declared by the generic</span></span><br><span class="line"><span class="comment">     * declaration represented by this &#123;<span class="doctag">@code</span> GenericDeclaration&#125;</span></span><br><span class="line"><span class="comment">     * object, in declaration order.  Returns an array of length 0 if</span></span><br><span class="line"><span class="comment">     * the underlying generic declaration declares no type variables.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> an array of &#123;<span class="doctag">@code</span> TypeVariable&#125; objects that represent</span></span><br><span class="line"><span class="comment">     *     the type variables declared by this generic declaration</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> GenericSignatureFormatError if the generic</span></span><br><span class="line"><span class="comment">     *     signature of this generic declaration does not conform to</span></span><br><span class="line"><span class="comment">     *     the format specified in</span></span><br><span class="line"><span class="comment">     *     &lt;cite&gt;The Java&amp;trade; Virtual Machine Specification&lt;/cite&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> TypeVariable&lt;?&gt;[] getTypeParameters();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>getTypeParameters(),这个方法用于获取声明的泛型变量类型清单。</li>
<li>泛型变量可以在类和方法中进行声明，从上面类图中也可以看出来，java中任何类可以使用Class对象表示，方法可以用Method类表示，类图中可以知，Class类和Method类实现了GenericDeclaration接口，所以可以调用他们的getTypeParameters方法获取其声明的泛型参数列表。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span>&lt;T1, T2 <span class="keyword">extends</span> <span class="title class_">Integer</span>, T3 <span class="keyword">extends</span> <span class="title class_">Demo1I1</span> &amp; Demo1I2&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>上面代码表示Demo1这个类中声明了3个泛型变量类型：T1、T2、T3，所以如果去调用这个类的Clas对象中的getTypeParameters方法可以获取到这三个泛型变量的信息。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;T1, T2 <span class="keyword">extends</span> <span class="title class_">Integer</span>, T3 <span class="keyword">extends</span> <span class="title class_">Demo2I1</span> &amp; Demo2I2&gt; T3 <span class="title function_">m1</span><span class="params">(T1 t1, T2 t2, T3 t3, String s)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> t3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>上面m1方法中声明了三个泛型类型变量：T1、T2、T3；java中可以方法的任何信息都可以通过Method对象来获取，Mehod类实现了GenericDeclaration接口，所以Method类中实现了GenericDeclaration接口中的getTypeParameters方法，调用这个方法就可以获取m1方法中3个泛型变量类型的信息。</li>
</ul>
<h2 id="Class类"><a href="#Class类" class="headerlink" title="Class类"></a>Class类</h2><p>Class类的对象表示JVM中一个类或者接口，每个java对象被加载到jvm中都会表现为一个Class类型的对象，java中的数组也被映射为Class对象，所有元素类型相同且维数相同的数组都共享一个class对象，通过Class对象可以获取类或者接口中的任何信息，比如：类名、类中声明的泛型信息、类的修饰符、类的父类信息、类的接口信息、类中的任何方法信息、类中任何字段信息等等。</p>
<ul>
<li>Class对象获取方式<br>在程序中我们可以通过3中方式获取Class对象：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>类名.class</span><br><span class="line"><span class="number">2.</span>对象.getClass()</span><br><span class="line"><span class="number">3.</span>Class.forName(<span class="string">&quot;类或者接口的完整名称&quot;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="常用的方法"><a href="#常用的方法" class="headerlink" title="常用的方法:"></a>常用的方法:</h3><ul>
<li><p>Field[] getFields()<br>这个方法会返回当前类的以及其所有父类、父类的父类中所有public类型的字段。</p>
</li>
<li><p>Field[] getDeclaredFields()<br>这个方法会返回当前类中所有字段（和修饰符无关），也就说不管这个字段是public还是private或者是protected，都会返回，有一点需要注意，只返回自己内部定义的字段，不包含其父类中的，这点需要注意，和getFields是有区别的。</p>
</li>
<li><p>Method[] getMethods()<br>这个方法会返回当前类的以及其所有父类的、父类的父类的、自己实现的接口、父接口继承的接口中的所有public类型的方法，需要注意一下，接口中的方法默认都是public类型的，接口中的方法public修饰符是可以省略的。</p>
</li>
<li><p>Method[] getDeclaredMethods()<br>返回当前类中定义的所有方法，不管这个方法修饰符是什么类型的，注意只包含自己内部定义的方法，不包含当前类的父类或者其实现的接口中定义的。</p>
</li>
<li><p>Type getGenericSuperclass()<br>返回父类的类型信息，如果父类是泛型类型，会返回超类中泛型的详细信息，这个方法比较关键，后面会有详细案例。</p>
</li>
<li><p>TypeVariable&lt;Class<T>&gt;[] getTypeParameters()<br>Class类继承了java.lang.reflect.GenericDeclaration接口，上面这个方法是在GenericDeclaration接口中定义的，Class类中实现了这个接口，用于返回当前类中声明的泛型变量参数列表。</p>
</li>
</ul>
<h2 id="Method类"><a href="#Method类" class="headerlink" title="Method类"></a>Method类</h2><p>这个类用来表示java中的任何一个方法，通过这个类可以获取java中方法的任何信息，比如：方法的修饰符、方法名称、方法的参数、方法返回值、方法中声明的泛型参数列表等方法的一切信息。</p>
<h3 id="常用的方法-1"><a href="#常用的方法-1" class="headerlink" title="常用的方法"></a>常用的方法</h3><ul>
<li><p>String getName()<br>用来获取方法的名称。</p>
</li>
<li><p>Type[] getGenericParameterTypes()<br>返回方法的参数信息，如果参数是泛型类型的，会返回泛型的详细信息，这个方法后面会演示。</p>
</li>
<li><p>Type getGenericReturnType()<br>返回方法的返回值类型，如果返回值是泛型的，会包含泛型的详细信息。</p>
</li>
<li><p>TypeVariable<Method>[] getTypeParameters()<br>Method类继承了java.lang.reflect.GenericDeclaration接口，上面这个方法是在GenericDeclaration接口中定义的，Method类中实现了这个接口，用于返回当前方法中声明的泛型变量参数列表。</p>
</li>
</ul>
<h2 id="Field类"><a href="#Field类" class="headerlink" title="Field类"></a>Field类</h2><p>这个类用来表示java中的字段，通过这个类可以获取java中字段的任何信息，比如：字段的修饰符、字段名称、字段类型、泛型字段的类型等字段的一切信息。</p>
<h3 id="常用的方法-2"><a href="#常用的方法-2" class="headerlink" title="常用的方法"></a>常用的方法</h3><ul>
<li><p>String getName()<br>获取字段的名称。</p>
</li>
<li><p>Class&lt;?&gt; getType()<br>获取字段类型所属的Class对象。</p>
</li>
<li><p>Type getGenericType()<br>获取字段的类型，如果字段是泛型类型的，会返回泛型类型的详细信息；如果字段不是泛型类型的，和getType返回的结果是一样的。</p>
</li>
<li><p>Class&lt;?&gt; getDeclaringClass()<br>获取这个字段是在哪个类中声明的，也就是当前字段所属的类。</p>
</li>
</ul>
<h2 id="ParameterizedType接口"><a href="#ParameterizedType接口" class="headerlink" title="ParameterizedType接口"></a>ParameterizedType接口</h2><p>这个接口表示参数化类型，例如List<String>、Map&lt;Integer,String&gt;、UserMapper<UserModel>这种带有泛型的类型。</p>
<h3 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h3><ul>
<li><p>Type[] getActualTypeArguments()<br>获取泛型类型中的类型列表，就是&lt;&gt;中包含的参数列表，如：List<String>泛型类型列表只有一个是String，而Map&lt;Integer,String&gt;泛型类型中包含2个类型：Integer和String，UserMapper<UserModel>泛型类型为UserModel，实际上就是&lt;和&gt;中间包含的类型列表。</p>
</li>
<li><p>Type getRawType()<br>返回参数化类型中的原始类型，比如：List<String>的原始类型为List，UserMapper<UserModel>原始类型为UserMapper，也就是&lt;符号前面的部分。</p>
</li>
<li><p>Type[]  getOwnerType()</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">返回当前类型所属的类型。例如存在A&lt;T&gt;类，其中定义了内部类InnerA&lt;I&gt;, 则InnerA&lt;I&gt;所属的类型为A&lt;I&gt;，如果是顶层类型则返回null。这种关系比较常见的示例是Map&lt;K,V&gt;接口与Map.Entry&lt;K,V&gt;接口，Map&lt;K,V&gt;接口是Map.Entry&lt;K,V&gt;接口的所有者。</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="TypeVariable接口"><a href="#TypeVariable接口" class="headerlink" title="TypeVariable接口"></a>TypeVariable接口</h2><p>这个接口表示的是泛型变量，例如：List<T>中的T就是类型变量；而class C1&lt;T1,T2,T3&gt;{}表示一个类，这个类中定义了3个泛型变量类型，分别是T1、T2和T2，泛型变量在java中使用TypeVariable接口来表示，可以通过这个接口提供的方法获取泛型变量类型的详细信息。</p>
<h3 id="常用的方法-3"><a href="#常用的方法-3" class="headerlink" title="常用的方法"></a>常用的方法</h3><ul>
<li><p>Type[] getBounds()<br>获取泛型变量类型的上边界，如果未明确什么上边界默认为Object。例如：class Test<K extend Person>中K的上边界只有一个，是Person；而class Test&lt;T extend List &amp; Iterable&gt;中T的上边界有2个，是List和Iterable</p>
</li>
<li><p>D getGenericDeclaration()<br>获取声明该泛型变量的原始类型，例如：class Test<K extend Person>中的K为泛型变量，这个泛型变量时Test类定义的时候声明的，说明如果调用getGenericDeclaration方法返回的就是Test对应的Class对象。</p>
</li>
</ul>
<p>还有方法中也可以定义泛型类型的变量，如果在方法中定义，那么上面这个方法返回的就是定义泛型变量的方法了，返回的就是Method对象。</p>
<ul>
<li>String getName()<br>获取在源码中定义时的名字，如：class Test<K extend Person>就是K；class Test1<T>中就是T。</li>
</ul>
<h2 id="WildcardType接口"><a href="#WildcardType接口" class="headerlink" title="WildcardType接口"></a>WildcardType接口</h2><p>表示的是通配符泛型，通配符使用问号表示，例如：? extends Number和? super Integer。</p>
<p>接口中定义了2个方法。</p>
<ul>
<li><p>Type[] getUpperBounds()<br>返回泛型变量的上边界列表。</p>
</li>
<li><p>Type[] getLowerBounds()<br>返回泛型变量的下边界列表。</p>
</li>
</ul>
<h2 id="GenericArrayType接口"><a href="#GenericArrayType接口" class="headerlink" title="GenericArrayType接口"></a>GenericArrayType接口</h2><p>表示的是数组类型，且数组中的元素是ParameterizedType或者TypeVariable。</p>
<p>例如：List<String>[]或者T[]。</p>
<p>这个接口只有一个方法：</p>
<ul>
<li>Type getGenericComponentType()<br>这个方法返回数组的组成元素。</li>
</ul>
<h1 id="类中定义泛型变量"><a href="#类中定义泛型变量" class="headerlink" title="类中定义泛型变量"></a>类中定义泛型变量</h1><p>语法:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">class 类名&lt;泛型变量<span class="number">1</span>,泛型变量<span class="number">2</span>,泛型变量<span class="number">3</span> extends 上边界<span class="number">1</span>,泛型变量<span class="number">4</span> extends 上边界类型<span class="number">1</span> &amp; 上边界类型<span class="number">2</span> &amp; 上边界类型<span class="number">3</span>&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><p>泛型变量需要在类名后面的括号中定义</p>
</li>
<li><p>每个类中可以定义多个泛型变量，多个泛型变量之间用逗号隔开</p>
</li>
<li><p>泛型变量可以通过extends关键字指定上边界，上边界可以对泛型变量起到了限定的作用，上边界可以指定0到多个，多个之间需要用&amp;符号隔开，如果不指定上边界，默认上边界为Object类型</p>
</li>
</ul>
<p>示例代码:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> h.xd.type;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Type;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.TypeVariable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoClass</span>&lt;T1, T2 <span class="keyword">extends</span> <span class="title class_">Integer</span>, T3 <span class="keyword">extends</span> <span class="title class_">DemoClass1</span> &amp; DemoClass2&gt; &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//获取类的类型参数列表</span></span><br><span class="line">        TypeVariable&lt;Class&lt;DemoClass&gt;&gt;[] typeParameters = DemoClass.class.getTypeParameters();</span><br><span class="line">        <span class="keyword">for</span> (TypeVariable&lt;Class&lt;DemoClass&gt;&gt; typeParameter : typeParameters) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;变量名称:&quot;</span> + typeParameter.getName());</span><br><span class="line">            System.out.println(<span class="string">&quot;这个变量在哪声明的:&quot;</span> + typeParameter.getGenericDeclaration());</span><br><span class="line">            Type[] bounds = typeParameter.getBounds();</span><br><span class="line">            System.out.println(<span class="string">&quot;这个变量上边界数量:&quot;</span> + bounds.length);</span><br><span class="line">            System.out.println(<span class="string">&quot;这个变量上边界清单:&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (Type bound : bounds) &#123;</span><br><span class="line">                System.out.println(bound.getTypeName());</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;--------------------&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">DemoClass1</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">DemoClass2</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">变量名称:T1</span><br><span class="line">这个变量在哪声明的:<span class="keyword">class</span> <span class="title class_">h</span>.xd.type.DemoClass</span><br><span class="line">这个变量上边界数量:<span class="number">1</span></span><br><span class="line">这个变量上边界清单:</span><br><span class="line">java.lang.Object</span><br><span class="line">--------------------</span><br><span class="line">变量名称:T2</span><br><span class="line">这个变量在哪声明的:<span class="keyword">class</span> <span class="title class_">h</span>.xd.type.DemoClass</span><br><span class="line">这个变量上边界数量:<span class="number">1</span></span><br><span class="line">这个变量上边界清单:</span><br><span class="line">java.lang.Integer</span><br><span class="line">--------------------</span><br><span class="line">变量名称:T3</span><br><span class="line">这个变量在哪声明的:<span class="keyword">class</span> <span class="title class_">h</span>.xd.type.DemoClass</span><br><span class="line">这个变量上边界数量:<span class="number">2</span></span><br><span class="line">这个变量上边界清单:</span><br><span class="line">h.xd.type.DemoClass1</span><br><span class="line">h.xd.type.DemoClass2</span><br><span class="line">--------------------</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="方法中定义泛型变量"><a href="#方法中定义泛型变量" class="headerlink" title="方法中定义泛型变量"></a>方法中定义泛型变量</h1><p>语法:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">方法修饰符 &lt;泛型变量<span class="number">1</span>,泛型变量<span class="number">2</span>,泛型变量<span class="number">3</span> extends 上边界<span class="number">1</span>,泛型变量<span class="number">4</span> extends 上边界类型<span class="number">1</span> &amp; 上边界类型<span class="number">2</span> &amp; 上边界类型<span class="number">3</span>&gt; 方法名称(参数<span class="number">1</span>类型 参数<span class="number">1</span>名称,参数<span class="number">2</span>类型 参数<span class="number">2</span>名称)</span><br></pre></td></tr></table></figure>

<p>示例代码:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> h.xd.type;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Type;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.TypeVariable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">DemoFunction1</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">DemoFunction2</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 泛型方法中的泛型变量</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoFunction</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> &lt;T1, T2 <span class="keyword">extends</span> <span class="title class_">Integer</span>, T3 <span class="keyword">extends</span> <span class="title class_">DemoFunction1</span> &amp; DemoFunction2&gt; T3 <span class="title function_">m1</span><span class="params">(T1 t1, T2 t2, T3 t3, String s)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> t3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//获取DemoFunction中声明的所有方法</span></span><br><span class="line">        Method[] methods = DemoFunction.class.getDeclaredMethods();</span><br><span class="line">        <span class="type">Method</span> <span class="variable">m1</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//找到m1方法</span></span><br><span class="line">        <span class="keyword">for</span> (Method method : methods) &#123;</span><br><span class="line">            <span class="keyword">if</span> (method.getName().equals(<span class="string">&quot;m1&quot;</span>)) &#123;</span><br><span class="line">                m1 = method;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取方法的泛型参数列表</span></span><br><span class="line">        System.out.println(<span class="string">&quot;m1方法参数类型列表信息:----------&quot;</span>);</span><br><span class="line">        Type[] genericParameterTypes = m1.getGenericParameterTypes();</span><br><span class="line">        <span class="keyword">for</span> (Type genericParameterType : genericParameterTypes) &#123;</span><br><span class="line">            <span class="comment">//3个参数都是泛型变量类型的，对应java中的TypeVariable</span></span><br><span class="line">            <span class="keyword">if</span> (genericParameterType <span class="keyword">instanceof</span> TypeVariable) &#123;</span><br><span class="line">                <span class="type">TypeVariable</span> <span class="variable">pt</span> <span class="operator">=</span> (TypeVariable) genericParameterType;</span><br><span class="line">                System.out.println(<span class="string">&quot;变量类型名称:&quot;</span> + pt.getTypeName());</span><br><span class="line">                System.out.println(<span class="string">&quot;变量名称:&quot;</span> + pt.getName());</span><br><span class="line">                System.out.println(<span class="string">&quot;这个变量在哪声明的:&quot;</span> + pt.getGenericDeclaration());</span><br><span class="line">                Type[] bounds = pt.getBounds();</span><br><span class="line">                System.out.println(<span class="string">&quot;这个变量上边界数量:&quot;</span> + bounds.length);</span><br><span class="line">                System.out.println(<span class="string">&quot;这个变量上边界清单:&quot;</span>);</span><br><span class="line">                <span class="keyword">for</span> (Type bound : bounds) &#123;</span><br><span class="line">                    System.out.println(bound.getTypeName());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (genericParameterType <span class="keyword">instanceof</span> Class) &#123;</span><br><span class="line">                <span class="type">Class</span> <span class="variable">pt</span> <span class="operator">=</span> (Class) genericParameterType;</span><br><span class="line">                System.out.println(<span class="string">&quot;参数类型名称:&quot;</span> + pt.getTypeName());</span><br><span class="line">                System.out.println(<span class="string">&quot;参数类名:&quot;</span> + pt.getName());</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;--------------------&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取方法的返回值，也是一个泛型变量</span></span><br><span class="line">        System.out.println(<span class="string">&quot;m1方法返回值类型信息:----------&quot;</span>);</span><br><span class="line">        <span class="type">Type</span> <span class="variable">genericReturnType</span> <span class="operator">=</span> m1.getGenericReturnType();</span><br><span class="line">        <span class="keyword">if</span> (genericReturnType <span class="keyword">instanceof</span> TypeVariable) &#123;</span><br><span class="line">            <span class="type">TypeVariable</span> <span class="variable">pt</span> <span class="operator">=</span> (TypeVariable) genericReturnType;</span><br><span class="line">            System.out.println(<span class="string">&quot;变量名称:&quot;</span> + pt.getName());</span><br><span class="line">            System.out.println(<span class="string">&quot;这个变量在哪声明的:&quot;</span> + pt.getGenericDeclaration());</span><br><span class="line">            Type[] bounds = pt.getBounds();</span><br><span class="line">            System.out.println(<span class="string">&quot;这个变量上边界数量:&quot;</span> + bounds.length);</span><br><span class="line">            System.out.println(<span class="string">&quot;这个变量上边界清单:&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (Type bound : bounds) &#123;</span><br><span class="line">                System.out.println(bound.getTypeName());</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;--------------------&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取方法中声明的泛型参数列表</span></span><br><span class="line">        System.out.println(<span class="string">&quot;m1方法中声明的泛型变量类型列表:----------&quot;</span>);</span><br><span class="line">        TypeVariable&lt;Method&gt;[] typeParameters = m1.getTypeParameters();</span><br><span class="line">        <span class="keyword">for</span> (TypeVariable&lt;Method&gt; pt : typeParameters) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;变量类型名称:&quot;</span> + pt.getTypeName());</span><br><span class="line">            System.out.println(<span class="string">&quot;变量名称:&quot;</span> + pt.getName());</span><br><span class="line">            System.out.println(<span class="string">&quot;这个变量在哪声明的:&quot;</span> + pt.getGenericDeclaration());</span><br><span class="line">            Type[] bounds = pt.getBounds();</span><br><span class="line">            System.out.println(<span class="string">&quot;这个变量上边界数量:&quot;</span> + bounds.length);</span><br><span class="line">            System.out.println(<span class="string">&quot;这个变量上边界清单:&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (Type bound : bounds) &#123;</span><br><span class="line">                System.out.println(bound.getTypeName());</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;--------------------&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">m1方法参数类型列表信息:----------</span><br><span class="line">变量类型名称:T1</span><br><span class="line">变量名称:T1</span><br><span class="line">这个变量在哪声明的:<span class="keyword">public</span> h.xd.type.DemoFunction1 h.xd.type.DemoFunction.m1(java.lang.Object,java.lang.Integer,h.xd.type.DemoFunction1,java.lang.String)</span><br><span class="line">这个变量上边界数量:<span class="number">1</span></span><br><span class="line">这个变量上边界清单:</span><br><span class="line">java.lang.Object</span><br><span class="line">--------------------</span><br><span class="line">变量类型名称:T2</span><br><span class="line">变量名称:T2</span><br><span class="line">这个变量在哪声明的:<span class="keyword">public</span> h.xd.type.DemoFunction1 h.xd.type.DemoFunction.m1(java.lang.Object,java.lang.Integer,h.xd.type.DemoFunction1,java.lang.String)</span><br><span class="line">这个变量上边界数量:<span class="number">1</span></span><br><span class="line">这个变量上边界清单:</span><br><span class="line">java.lang.Integer</span><br><span class="line">--------------------</span><br><span class="line">变量类型名称:T3</span><br><span class="line">变量名称:T3</span><br><span class="line">这个变量在哪声明的:<span class="keyword">public</span> h.xd.type.DemoFunction1 h.xd.type.DemoFunction.m1(java.lang.Object,java.lang.Integer,h.xd.type.DemoFunction1,java.lang.String)</span><br><span class="line">这个变量上边界数量:<span class="number">2</span></span><br><span class="line">这个变量上边界清单:</span><br><span class="line">h.xd.type.DemoFunction1</span><br><span class="line">h.xd.type.DemoFunction2</span><br><span class="line">--------------------</span><br><span class="line">参数类型名称:java.lang.String</span><br><span class="line">参数类名:java.lang.String</span><br><span class="line">--------------------</span><br><span class="line">m1方法返回值类型信息:----------</span><br><span class="line">变量名称:T3</span><br><span class="line">这个变量在哪声明的:<span class="keyword">public</span> h.xd.type.DemoFunction1 h.xd.type.DemoFunction.m1(java.lang.Object,java.lang.Integer,h.xd.type.DemoFunction1,java.lang.String)</span><br><span class="line">这个变量上边界数量:<span class="number">2</span></span><br><span class="line">这个变量上边界清单:</span><br><span class="line">h.xd.type.DemoFunction1</span><br><span class="line">h.xd.type.DemoFunction2</span><br><span class="line">--------------------</span><br><span class="line">m1方法中声明的泛型变量类型列表:----------</span><br><span class="line">变量类型名称:T1</span><br><span class="line">变量名称:T1</span><br><span class="line">这个变量在哪声明的:<span class="keyword">public</span> h.xd.type.DemoFunction1 h.xd.type.DemoFunction.m1(java.lang.Object,java.lang.Integer,h.xd.type.DemoFunction1,java.lang.String)</span><br><span class="line">这个变量上边界数量:<span class="number">1</span></span><br><span class="line">这个变量上边界清单:</span><br><span class="line">java.lang.Object</span><br><span class="line">--------------------</span><br><span class="line">变量类型名称:T2</span><br><span class="line">变量名称:T2</span><br><span class="line">这个变量在哪声明的:<span class="keyword">public</span> h.xd.type.DemoFunction1 h.xd.type.DemoFunction.m1(java.lang.Object,java.lang.Integer,h.xd.type.DemoFunction1,java.lang.String)</span><br><span class="line">这个变量上边界数量:<span class="number">1</span></span><br><span class="line">这个变量上边界清单:</span><br><span class="line">java.lang.Integer</span><br><span class="line">--------------------</span><br><span class="line">变量类型名称:T3</span><br><span class="line">变量名称:T3</span><br><span class="line">这个变量在哪声明的:<span class="keyword">public</span> h.xd.type.DemoFunction1 h.xd.type.DemoFunction.m1(java.lang.Object,java.lang.Integer,h.xd.type.DemoFunction1,java.lang.String)</span><br><span class="line">这个变量上边界数量:<span class="number">2</span></span><br><span class="line">这个变量上边界清单:</span><br><span class="line">h.xd.type.DemoFunction1</span><br><span class="line">h.xd.type.DemoFunction2</span><br><span class="line">--------------------</span><br></pre></td></tr></table></figure>

<h1 id="通配符类型"><a href="#通配符类型" class="headerlink" title="通配符类型"></a>通配符类型</h1><p>通配符在java中 使用?表示，例如：? extends Number和? super Integer。</p>
<p>java中通配符对应的类型是WildcardType接口，可以通过这个接口来获取通配符具体的各种信息。</p>
<ul>
<li>通配符上边界<br>通配符具体的类型，可以任意指定，但是我们可以限定通配符的上边界，上边界指定了这个通配符能够表示的最大的范围的类型。</li>
</ul>
<blockquote>
<p>比如：？extends Integer，那么?对应的具体类型只能是Integer本身或者其子类型。</p>
</blockquote>
<ul>
<li>通配符下边界<br>也可以给通配符指定下边界，下边界定义了通配符能够表示的最小的类型。</li>
</ul>
<blockquote>
<p>比如：? super C1，那么?对应的具体类型只能是C1类型或者C1的父类型。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> h.xd.type;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.ParameterizedType;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Type;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.WildcardType;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoWild</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">C1</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">C2</span> <span class="keyword">extends</span> <span class="title class_">C1</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> List&lt;?&gt; m1(Map&lt;? <span class="built_in">super</span> C2, ? <span class="keyword">extends</span> <span class="title class_">C1</span>&gt; map) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException &#123;</span><br><span class="line">        <span class="type">Method</span> <span class="variable">m1</span> <span class="operator">=</span> DemoWild.class.getMethod(<span class="string">&quot;m1&quot;</span>, Map.class);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取m1方法参数泛型详细参数信息</span></span><br><span class="line">        System.out.println(<span class="string">&quot;获取m1方法参数泛型详细参数信息&quot;</span>);</span><br><span class="line">        Type[] genericParameterTypes = m1.getGenericParameterTypes();</span><br><span class="line">        <span class="keyword">for</span> (Type genericParameterType : genericParameterTypes) &#123;</span><br><span class="line">            <span class="comment">// m1的参数为Map&lt;? super C2, ? extends C1&gt;，这个是泛型类型的，所以是ParameterizedType接口类型</span></span><br><span class="line">            <span class="keyword">if</span> (genericParameterType <span class="keyword">instanceof</span> ParameterizedType) &#123;</span><br><span class="line">                <span class="type">ParameterizedType</span> <span class="variable">parameterizedType</span> <span class="operator">=</span> (ParameterizedType) genericParameterType;</span><br><span class="line">                <span class="comment">//下面获取Map后面两个尖括号中的泛型参数列表，对应? super C2, ? extends C1这部分的内容，这部分在java中对应WildcardType接口类型</span></span><br><span class="line">                Type[] actualTypeArguments = parameterizedType.getActualTypeArguments();</span><br><span class="line">                <span class="keyword">for</span> (Type actualTypeArgument : actualTypeArguments) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (actualTypeArgument <span class="keyword">instanceof</span> WildcardType) &#123;</span><br><span class="line">                        <span class="type">WildcardType</span> <span class="variable">wildcardType</span> <span class="operator">=</span> (WildcardType) actualTypeArgument;</span><br><span class="line">                        <span class="comment">//获取通配符的名称，输出是?</span></span><br><span class="line">                        System.out.println(<span class="string">&quot;通配符类型名称:&quot;</span> + wildcardType.getTypeName());</span><br><span class="line">                        <span class="comment">//获取通配符的上边界</span></span><br><span class="line">                        Type[] upperBounds = wildcardType.getUpperBounds();</span><br><span class="line">                        <span class="keyword">for</span> (Type upperBound : upperBounds) &#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;通配符上边界类型：&quot;</span> + upperBound.getTypeName());</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="comment">//获取通配符的下边界</span></span><br><span class="line">                        Type[] lowerBounds = wildcardType.getLowerBounds();</span><br><span class="line">                        <span class="keyword">for</span> (Type lowerBound : lowerBounds) &#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;通配符下边界类型:&quot;</span> + lowerBound.getTypeName());</span><br><span class="line">                        &#125;</span><br><span class="line">                        System.out.println(<span class="string">&quot;------------&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取返回值通配符详细信息</span></span><br><span class="line">        System.out.println(<span class="string">&quot;获取m1方法返回值泛型类型详细信息&quot;</span>);</span><br><span class="line">        <span class="type">Type</span> <span class="variable">genericReturnType</span> <span class="operator">=</span> m1.getGenericReturnType();</span><br><span class="line">        <span class="comment">// m1的返回值是List&lt;?&gt;，这个是个泛型类型，对应ParameterizedType接口，泛型中的具体类型是个通配符类型，通配符对应WildcardType接口类型</span></span><br><span class="line">        <span class="keyword">if</span> (genericReturnType <span class="keyword">instanceof</span> ParameterizedType) &#123; </span><br><span class="line">            <span class="type">ParameterizedType</span> <span class="variable">parameterizedType</span> <span class="operator">=</span> (ParameterizedType) genericReturnType;</span><br><span class="line">            <span class="comment">//下面获取List面两个尖括号中的泛型参数列表，对应?这部分的内容，这个是个通配符类型，这部分在java中对应WildcardType接口</span></span><br><span class="line">            Type[] actualTypeArguments = parameterizedType.getActualTypeArguments();</span><br><span class="line">            <span class="keyword">for</span> (Type actualTypeArgument : actualTypeArguments) &#123;</span><br><span class="line">                <span class="keyword">if</span> (actualTypeArgument <span class="keyword">instanceof</span> WildcardType) &#123;</span><br><span class="line">                    <span class="type">WildcardType</span> <span class="variable">wildcardType</span> <span class="operator">=</span> (WildcardType) actualTypeArgument;</span><br><span class="line">                    <span class="comment">//获取通配符的名称，输出是?</span></span><br><span class="line">                    System.out.println(<span class="string">&quot;通配符类型名称:&quot;</span> + wildcardType.getTypeName());</span><br><span class="line">                    <span class="comment">//获取通配符的上边界</span></span><br><span class="line">                    Type[] upperBounds = wildcardType.getUpperBounds();</span><br><span class="line">                    <span class="keyword">for</span> (Type upperBound : upperBounds) &#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;通配符上边界类型：&quot;</span> + upperBound.getTypeName());</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">//获取通配符的下边界</span></span><br><span class="line">                    Type[] lowerBounds = wildcardType.getLowerBounds();</span><br><span class="line">                    <span class="keyword">for</span> (Type lowerBound : lowerBounds) &#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;通配符下边界类型:&quot;</span> + lowerBound.getTypeName());</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(<span class="string">&quot;------------&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">获取m1方法参数泛型详细参数信息</span><br><span class="line">通配符类型名称:? <span class="built_in">super</span> h.xd.type.DemoWild$C2</span><br><span class="line">通配符上边界类型：java.lang.Object</span><br><span class="line">通配符下边界类型:h.xd.type.DemoWild$C2</span><br><span class="line">------------</span><br><span class="line">通配符类型名称:? <span class="keyword">extends</span> <span class="title class_">h</span>.xd.type.DemoWild$C1</span><br><span class="line">通配符上边界类型：h.xd.type.DemoWild$C1</span><br><span class="line">------------</span><br><span class="line">获取m1方法返回值泛型类型详细信息</span><br><span class="line">通配符类型名称:?</span><br><span class="line">通配符上边界类型：java.lang.Object</span><br><span class="line">------------</span><br></pre></td></tr></table></figure>

<h1 id="泛型数组"><a href="#泛型数组" class="headerlink" title="泛型数组"></a>泛型数组</h1><p>数组中的元素为泛型，那么这个数组就是泛型类型的数组，泛型数组在java中使用GenericArrayType接口来表示，可以通过这个接口提供的方法获取泛型数组更详细的信息。</p>
<p>如：List<String> list []; List<String> list [][];</p>
<p>泛型数组类型的可以作为方法的参数、方法的返回值、泛型类的具体类型、字段的类型等等。</p>
<p>示例代码:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> h.xd.type;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.GenericArrayType;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.ParameterizedType;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Type;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoList</span> &#123;</span><br><span class="line"></span><br><span class="line">    List&lt;String&gt; list[];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchFieldException &#123;</span><br><span class="line">        <span class="type">Field</span> <span class="variable">list</span> <span class="operator">=</span> DemoList.class.getDeclaredField(<span class="string">&quot;list&quot;</span>);</span><br><span class="line">        <span class="comment">//获取字段的泛型类型</span></span><br><span class="line">        <span class="type">Type</span> <span class="variable">genericType</span> <span class="operator">=</span> list.getGenericType();</span><br><span class="line">        <span class="comment">//看看字段的具体泛型类型</span></span><br><span class="line">        System.out.println(genericType.getClass());</span><br><span class="line">        <span class="keyword">if</span> (genericType <span class="keyword">instanceof</span> GenericArrayType) &#123;</span><br><span class="line">            <span class="type">GenericArrayType</span> <span class="variable">genericArrayType</span> <span class="operator">=</span> (GenericArrayType) genericType;</span><br><span class="line">            <span class="comment">//获取数组的具体类型，具体的类型就是List&lt;String&gt;，这个是个泛型类型，对应java中的ParameterizedType接口</span></span><br><span class="line">            <span class="type">Type</span> <span class="variable">genericComponentType</span> <span class="operator">=</span> genericArrayType.getGenericComponentType();</span><br><span class="line">            System.out.println(genericComponentType.getClass());</span><br><span class="line">            <span class="keyword">if</span> (genericComponentType <span class="keyword">instanceof</span> ParameterizedType) &#123;</span><br><span class="line">                <span class="type">ParameterizedType</span> <span class="variable">parameterizedType</span> <span class="operator">=</span> (ParameterizedType) genericComponentType;</span><br><span class="line">                System.out.println(parameterizedType.getRawType());</span><br><span class="line">                <span class="comment">//调用getActualTypeArguments()获取List&lt;String&gt;中尖括号中的参数列表</span></span><br><span class="line">                Type[] actualTypeArguments = parameterizedType.getActualTypeArguments();</span><br><span class="line">                <span class="keyword">for</span> (Type actualTypeArgument : actualTypeArguments) &#123;</span><br><span class="line">                    System.out.println(actualTypeArgument.getTypeName());</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(parameterizedType.getOwnerType());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>运行结果:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">sun</span>.reflect.generics.reflectiveObjects.GenericArrayTypeImpl</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">sun</span>.reflect.generics.reflectiveObjects.ParameterizedTypeImpl</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">java</span>.util.List</span><br><span class="line">java.lang.String</span><br><span class="line"><span class="literal">null</span></span><br></pre></td></tr></table></figure>

<h1 id="综合案例"><a href="#综合案例" class="headerlink" title="综合案例"></a>综合案例</h1><p>返回结果封装:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通用返回结果封装类</span></span><br><span class="line"><span class="comment"> * Created by macro on 2019/4/19.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CommonResult</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 状态码</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> code;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 提示信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 数据封装</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">CommonResult</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">CommonResult</span><span class="params">(<span class="type">long</span> code, String message, T data)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.message = message;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 成功返回结果</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> data 获取的数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; CommonResult&lt;T&gt; <span class="title function_">success</span><span class="params">(T data)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">CommonResult</span>&lt;T&gt;(ResultCode.SUCCESS.getCode(), ResultCode.SUCCESS.getMessage(), data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 成功返回结果</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> data 获取的数据</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  message 提示信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; CommonResult&lt;T&gt; <span class="title function_">success</span><span class="params">(T data, String message)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">CommonResult</span>&lt;T&gt;(ResultCode.SUCCESS.getCode(), message, data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 失败返回结果</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> errorCode 错误码</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; CommonResult&lt;T&gt; <span class="title function_">failed</span><span class="params">(IErrorCode errorCode)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">CommonResult</span>&lt;T&gt;(errorCode.getCode(), errorCode.getMessage(), <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 失败返回结果</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> errorCode 错误码</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message 错误信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; CommonResult&lt;T&gt; <span class="title function_">failed</span><span class="params">(IErrorCode errorCode,String message)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">CommonResult</span>&lt;T&gt;(errorCode.getCode(), message, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 失败返回结果</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message 提示信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; CommonResult&lt;T&gt; <span class="title function_">failed</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">CommonResult</span>&lt;T&gt;(ResultCode.FAILED.getCode(), message, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 失败返回结果</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; CommonResult&lt;T&gt; <span class="title function_">failed</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> failed(ResultCode.FAILED);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 参数验证失败返回结果</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; CommonResult&lt;T&gt; <span class="title function_">validateFailed</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> failed(ResultCode.VALIDATE_FAILED);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 参数验证失败返回结果</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message 提示信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; CommonResult&lt;T&gt; <span class="title function_">validateFailed</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">CommonResult</span>&lt;T&gt;(ResultCode.VALIDATE_FAILED.getCode(), message, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 未登录返回结果</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; CommonResult&lt;T&gt; <span class="title function_">unauthorized</span><span class="params">(T data)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">CommonResult</span>&lt;T&gt;(ResultCode.UNAUTHORIZED.getCode(), ResultCode.UNAUTHORIZED.getMessage(), data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 未授权返回结果</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; CommonResult&lt;T&gt; <span class="title function_">forbidden</span><span class="params">(T data)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">CommonResult</span>&lt;T&gt;(ResultCode.FORBIDDEN.getCode(), ResultCode.FORBIDDEN.getMessage(), data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCode</span><span class="params">(<span class="type">long</span> code)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMessage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMessage</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">getData</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setData</span><span class="params">(T data)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>本文标题：Java泛型梳理</li>
        <li>本文作者：形而上</li>
        <li>创建时间：2022-02-13 01:33:00</li>
        <li>
            本文链接：https://deepter.gitee.io/2022_02_13_java_wild_type/
        </li>
        <li>
            版权声明：本博客所有文章除特别声明外，均采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> 许可协议。转载请注明出处！
        </li>
    </ul>
</div>

            </div>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2022_04_12_java_singleton/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Java单例总结</span>
                                <span class="post-nav-item">上一篇</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2022_02_10_threadlocal/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">ThreadLocal分析</span>
                                <span class="post-nav-item">下一篇</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2017</span>&nbsp;-&nbsp;
            
            2025&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">形而上</a>
        </div>
        
            <script async  src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        访问人数&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        总访问量&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动&nbsp;|&nbsp;主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.3</a>
        </div>
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#reflect%E5%8C%85%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E7%B1%BB"><span class="nav-text">reflect包中的一些类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Type%E6%8E%A5%E5%8F%A3"><span class="nav-text">Type接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GenericDeclaration%E6%8E%A5%E5%8F%A3"><span class="nav-text">GenericDeclaration接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Class%E7%B1%BB"><span class="nav-text">Class类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-text">常用的方法:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Method%E7%B1%BB"><span class="nav-text">Method类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95-1"><span class="nav-text">常用的方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Field%E7%B1%BB"><span class="nav-text">Field类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95-2"><span class="nav-text">常用的方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ParameterizedType%E6%8E%A5%E5%8F%A3"><span class="nav-text">ParameterizedType接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-text">常用方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TypeVariable%E6%8E%A5%E5%8F%A3"><span class="nav-text">TypeVariable接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95-3"><span class="nav-text">常用的方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WildcardType%E6%8E%A5%E5%8F%A3"><span class="nav-text">WildcardType接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GenericArrayType%E6%8E%A5%E5%8F%A3"><span class="nav-text">GenericArrayType接口</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B1%BB%E4%B8%AD%E5%AE%9A%E4%B9%89%E6%B3%9B%E5%9E%8B%E5%8F%98%E9%87%8F"><span class="nav-text">类中定义泛型变量</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%B8%AD%E5%AE%9A%E4%B9%89%E6%B3%9B%E5%9E%8B%E5%8F%98%E9%87%8F"><span class="nav-text">方法中定义泛型变量</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%80%9A%E9%85%8D%E7%AC%A6%E7%B1%BB%E5%9E%8B"><span class="nav-text">通配符类型</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E6%95%B0%E7%BB%84"><span class="nav-text">泛型数组</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B"><span class="nav-text">综合案例</span></a></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>



    
<script src="/js/local-search.js"></script>




    
<script src="/js/code-copy.js"></script>





<div class="post-scripts">
    
        
<script src="/js/left-side-toggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/toc.js"></script>

    
</div>



</body>
</html>
